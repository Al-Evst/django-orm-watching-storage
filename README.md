# Описание проекта #
Django-проект для работы с ORM и отслеживания посещений хранилища.

## Предназначение проекта ##

* вести учёт сотрудников с пропусками;

* отслеживать их визиты в хранилище;

* проверять, сколько людей находятся внутри;

* определять долгие визиты (подозрительные);

* просматривать активные пропуска.

## Библиотеки ##
* Python=3.13;
* Django=3.2.25

## Переменные окружения

Перед запуском проекта необходимо создать файл `.env` в корне проекта и определить в нем следующие переменные:

| Переменная      | Описание                                                                                 | Пример                  |
|-----------------|------------------------------------------------------------------------------------------|-------------------------|
| `DEBUG`         | Включение режима отладки (`True` — включен, `False` — выключен).                        | `DEBUG=True`            |
| `SECRET_KEY`    | Секретный ключ Django. Используется для криптографических операций.                      | `SECRET_KEY=ваш_ключ`   |
| `DB_ENGINE`     | Движок базы данных. В данном проекте — PostgreSQL.                                      | `DB_ENGINE=django.db.backends.postgresql_psycopg2` |
| `DB_HOST`       | Хост базы данных.                                                                        | `DB_HOST=checkpoint.devman.org` |
| `DB_PORT`       | Порт базы данных.                                                                        | `DB_PORT=5434`          |
| `DB_NAME`       | Имя базы данных.                                                                         | `DB_NAME=checkpoint`    |
| `DB_USER`       | Пользователь базы данных.                                                                | `DB_USER=guard`         |
| `DB_PASSWORD`   | Пароль пользователя базы данных.                                                        | `DB_PASSWORD=osim5`     |
| `ALLOWED_HOSTS` | Список разрешённых хостов, с которых разрешён доступ к приложению.                      | `ALLOWED_HOSTS=*`       |

---

## Установка ##
1. Клонируйте репозиторий:
```
git clone https://github.com/Al-Evst/django-orm-watching-storage.git
```
2. Создайте и активируйте виртуальное окружение:
```
python -m venv venv
source venv/bin/activate # Linux/Mac
venv\Scripts\activate # Windows
```
3. Установите зависимости:
```
pip install -r requirements.txt
```
4. Запустите миграции:
```
python manage.py migrate
```
5. Создайте суперпользователя:
```
python manage.py createsuperuser
```
6. Запустите сервер разработки:
```
python manage.py runserver
```
Перейдите по адресу [http://127.0.0.1:8000](http://127.0.0.1:8000) для использования приложения.

## Структура проекта ##
* datacenter/models.py — модели Passcard и Visit.

* datacenter/views.py — функции для отображения активных пропусков и визитов.

* templates/ — HTML-шаблоны для отображения данных.

* manage.py — точка входа проекта.
